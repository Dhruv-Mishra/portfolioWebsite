@import "tailwindcss";

@theme {
  --color-paper: var(--c-paper);
  --color-ink: var(--c-ink);
  --color-grid: var(--c-grid);
  --color-spiral-bg: var(--c-spiral-bg);
  --color-spiral-border: var(--c-spiral-border);
}

@layer base {
  :root {
    --c-paper: #fdfbf7;
    --c-ink: #2d2a2e;
    --c-grid: #9ca3af;
    --c-spiral-bg: #f0f0f0;
    --c-spiral-border: #d1d5db;
    --c-heading: #000000;
    --c-highlight: #000000;
    --mobile-breakpoint: 768px;

    /* Doodle Colors (Light Mode -> Deep Colored Ink with Opacity) */
    --d-amber: rgba(120, 53, 15, 0.3);
    --d-slate: rgba(15, 23, 42, 0.3);
    --d-gray: rgba(17, 24, 39, 0.3);
    --d-indigo: rgba(49, 46, 129, 0.3);
    --d-emerald: rgba(6, 78, 59, 0.3);
    --d-red: rgba(127, 29, 29, 0.3);
    --d-yellow: rgba(133, 77, 14, 0.3);
    --d-stone: rgba(28, 25, 23, 0.3);
    --d-pink: rgba(131, 24, 67, 0.3);
    --d-blue: rgba(30, 58, 138, 0.3);
    --d-purple: rgba(88, 28, 135, 0.3);
    --d-rose: rgba(136, 19, 55, 0.3);
    --d-stroke-width: 1.2px;

    /* Note Colors (Light Mode - Uniform Sticky Yellow) */
    --note-yellow: #fff9c4;
    --note-blue: #fff9c4;
    --note-green: #fff9c4;
    --note-purple: #fff9c4;
    --note-orange: #fff9c4;
    --note-gray: #fff9c4;

    /* Simple grid pattern for graph paper effect */
    --paper-pattern: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='0.15' fill-rule='evenodd'%3E%3Cpath d='M0 0h40v1H0zM0 0v40h1V0z'/%3E%3C/g%3E%3C/svg%3E");
  }

  .dark {
    --c-paper: #1a1a1a;
    --c-ink: #e5e5e5;
    --c-grid: #404040;
    --c-spiral-bg: #262626;
    --c-spiral-border: #404040;
    --c-heading: #ffffff;
    --c-highlight: #ffffff;
    --d-stroke-width: 2.5px;

    /* Doodle Colors (Dark Mode -> Chalk/Pastel) */
    --d-amber: rgba(254, 249, 195, 0.4);
    --d-slate: rgba(226, 232, 240, 0.4);
    --d-gray: rgba(229, 231, 235, 0.4);
    --d-indigo: rgba(199, 210, 254, 0.4);
    --d-emerald: rgba(209, 250, 229, 0.4);
    --d-red: rgba(254, 202, 202, 0.4);
    --d-yellow: rgba(254, 249, 195, 0.4);
    --d-stone: rgba(214, 211, 209, 0.4);
    --d-pink: rgba(251, 207, 232, 0.3);
    --d-blue: rgba(191, 219, 254, 0.3);
    --d-purple: rgba(233, 213, 255, 0.3);
    --d-rose: rgba(254, 205, 211, 0.3);

    /* Note Colors (Dark Mode - Matte Black #222222) */
    --note-yellow: #222222;
    --note-blue: #222222;
    --note-green: #222222;
    --note-purple: #222222;
    --note-orange: #222222;
    --note-gray: #222222;

    /* Darker grid pattern for blackboard/slate effect */
    --paper-pattern: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'%3E%3Cpath d='M0 0h40v1H0zM0 0v40h1V0z'/%3E%3C/g%3E%3C/svg%3E");
  }
}

body {
  background-color: var(--c-paper);
  background-image: var(--paper-pattern);
  color: var(--c-ink);
  font-family: var(--font-hand), cursive;
  overflow-x: hidden;
  cursor: none;
}

/* Note Utility Classes - Moved to utilities layer for correct precedence */
@layer utilities {
  .bg-note-yellow {
    background-color: var(--note-yellow);
  }

  .bg-note-blue {
    background-color: var(--note-blue);
  }

  .bg-note-green {
    background-color: var(--note-green);
  }

  .bg-note-purple {
    background-color: var(--note-purple);
  }

  .bg-note-orange {
    background-color: var(--note-orange);
  }

  .bg-note-gray {
    background-color: var(--note-gray);
  }

  /* Performance: defer rendering of below-fold content */
  .content-deferred {
    content-visibility: auto;
    contain-intrinsic-size: auto 500px;
  }

  /* Hero animations - CSS instead of framer-motion for faster LCP */
  .animate-hero-title {
    animation: heroTitleIn 0.6s ease-out forwards;
  }

  .animate-hero-subtitle {
    animation: heroSubtitleIn 0.5s ease-out 0.3s forwards;
    opacity: 0;
  }

  .animate-hero-badge {
    animation: heroBadgeIn 0.4s ease-out 0.5s forwards;
    opacity: 0;
  }

  @keyframes heroTitleIn {
    from {
      opacity: 0.01;
      /* LCP Trick: Not fully transparent = painted immediately */
      transform: scale(0.9) rotate(-4deg);
    }

    to {
      opacity: 1;
      transform: scale(1) rotate(-4deg);
    }
  }

  @keyframes heroSubtitleIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes heroBadgeIn {
    from {
      opacity: 0;
      transform: translateX(20px) rotate(12deg);
    }

    to {
      opacity: 1;
      transform: translateX(0) rotate(12deg);
    }
  }
}

/* Cursor handling: show normal cursor on mobile, hide on desktop */
*,
a,
button,
input,
textarea,
select,
label,
[role="button"],
[role="link"] {
  cursor: auto;
}

@media (min-width: 768px) {

  *,
  a,
  button,
  input,
  textarea,
  select,
  label,
  [role="button"],
  [role="link"] {
    cursor: none !important;
  }
}

::selection {
  background-color: var(--c-ink);
  color: var(--c-paper);
}

/* Animated link hover effect */
.link-hover {
  transition: transform 0.15s ease-out, color 0.15s ease-out;
  display: inline-block;
}

.link-hover:hover {
  transform: scale(1.05) rotate(-1deg);
}